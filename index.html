<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>Valentineâ€™s Day is coming ðŸ’˜</title>

    <link rel="shortcut icon" type="image/png" href="./img/heart.svg" />
    <link rel="stylesheet" href="style/style.css" />
  </head>

  <body>
    <!-- âœ¨ EFFECT LAYERS -->
    <div id="fx-hearts"></div>
    <div id="fx-sparkles"></div>

    <div class="container">
      <div class="one">
        <h1 class="one">
          Hey <span id="name">-----------------</span>
        </h1>
        <p class="two" id="greetingText">Valentineâ€™s Day is coming</p>
      </div>

      <div class="three">
        <p>HERE IS SOMETHING I WANT TO ASK YOU</p>
      </div>

      <div class="four">
        <div class="text-box">
          <p class="hbd-chatbox">
            Will You Be My Valentine Love and blah blah...
          </p>
          <p class="fake-btn">Send</p>
        </div>
      </div>

      <div class="five">
        <p class="idea-1">That's what I was going to do.</p>
        <p class="idea-2">But then I stopped.</p>
        <p class="idea-3">
          I realised, I wanted to do something <strong>special</strong>.
        </p>
        <p class="idea-4">Because,</p>
        <p class="idea-5" id="specialText">
          You are Special <span>:)</span>
        </p>
        <p class="idea-6">
          <span>S</span>
          <span>O</span>
        </p>
      </div>

      <div class="six">
        <img src="img/vector.jpg" alt="" class="girl-dp" id="imagePath" />

        <div class="wish">
          <h3 class="wish-hbd">Will You Be My Valentine Cutu</h3>
          <h5 id="wishText">MY Princess</h5>

          <button class="play-btn" onclick="playMusic()">ðŸ’• Play our song</button>

          <audio id="audio" loop>
            <source src="./song/song.mp3" type="audio/mpeg" />
          </audio>
        </div>
      </div>

      <div class="seven">
        <div class="baloons">
          <img src="img/balloon.svg" />
          <img src="img/smiling.svg" />
          <img src="img/heart.svg" />
          <img src="img/music-note.svg" />
        </div>
      </div>

      <div class="eight">
        <svg viewBox="0 0 40 40"><circle cx="20" cy="20" r="20" /></svg>
      </div>

      <div class="nine">
        <p>You're my,my,my,my LOVER ðŸ’˜</p>
        <p class="last-smile">:)</p>
      </div>
    </div>

    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script type="text/babel" src="script/main.js"></script>

    <!-- ðŸ’– MUSIC + EFFECTS -->
    <script>
      let fxStarted = false;

      function playMusic() {
        const audio = document.getElementById("audio");
        const btn = document.querySelector(".play-btn");

        audio.volume = 0;
        audio.play();
        fadeIn(audio, 2000);

        btn.innerHTML = "ðŸŽ¶ Playing our song";
        btn.disabled = true;
        btn.classList.add("playing");

        if (!fxStarted) {
          fxStarted = true;
          startHearts();
          startSparkles();
        }
      }

      function fadeIn(audio, duration) {
        let step = 0;
        const steps = 40;
        const interval = duration / steps;

        const fade = setInterval(() => {
          step++;
          audio.volume = Math.min(step / steps, 1);
          if (step >= steps) clearInterval(fade);
        }, interval);
      }

      function startHearts() {
        const layer = document.getElementById("fx-hearts");
        const hearts = ["ðŸ’–", "ðŸ’—", "ðŸ’•", "ðŸ’˜", "ðŸ’ž"];

        setInterval(() => {
          const h = document.createElement("div");
          h.className = "heart";
          h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
          h.style.left = Math.random() * 100 + "vw";
          h.style.animationDuration = 6 + Math.random() * 6 + "s";
          layer.appendChild(h);
          setTimeout(() => h.remove(), 12000);
        }, 220);
      }

      function startSparkles() {
        const layer = document.getElementById("fx-sparkles");

        setInterval(() => {
          for (let i = 0; i < 3; i++) {
            const s = document.createElement("div");
            s.className = "sparkle";
            s.style.left = Math.random() * 100 + "vw";
            s.style.top = Math.random() * 100 + "vh";
            layer.appendChild(s);
            setTimeout(() => s.remove(), 800);
          }
        }, 180);
      }
    </script>
  </body>
</html>
